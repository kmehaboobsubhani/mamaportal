!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@pascalhonegger/ng-datatable",["exports","@angular/core","rxjs","@angular/common"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).pascalhonegger=t.pascalhonegger||{},t.pascalhonegger["ng-datatable"]={}),t.ng.core,t.rxjs,t.ng.common)}(this,(function(t,e,a,r){"use strict";var s=function(){function t(){this.rowsOnPageSet=[],this.minRowsOnPage=0}return t.prototype.ngOnChanges=function(t){t.rowsOnPageSet&&(this.minRowsOnPage=this.rowsOnPageSet.reduce((function(t,e){return e<t?e:t})))},t}();s.decorators=[{type:e.Component,args:[{selector:"mfBootstrapPaginator",template:'\n    <mfPaginator #p [mfTable]="mfTable">\n        <ul class="pagination" *ngIf="p.dataLength > p.rowsOnPage">\n            <li class="page-item" [class.disabled]="p.activePage <= 1" (click)="p.setPage(1)">\n                <a class="page-link" style="cursor: pointer">&laquo;</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage > 4 && p.activePage + 1 > p.lastPage" (click)="p.setPage(p.activePage - 4)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage-4}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage > 3 && p.activePage + 2 > p.lastPage" (click)="p.setPage(p.activePage - 3)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage-3}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage > 2" (click)="p.setPage(p.activePage - 2)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage-2}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage > 1" (click)="p.setPage(p.activePage - 1)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage-1}}</a>\n            </li>\n            <li class="page-item active">\n                <a class="page-link" style="cursor: pointer">{{p.activePage}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage + 1 <= p.lastPage" (click)="p.setPage(p.activePage + 1)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage+1}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage + 2 <= p.lastPage" (click)="p.setPage(p.activePage + 2)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage+2}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage + 3 <= p.lastPage && p.activePage < 3" (click)="p.setPage(p.activePage + 3)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage+3}}</a>\n            </li>\n            <li class="page-item" *ngIf="p.activePage + 4 <= p.lastPage && p.activePage < 2" (click)="p.setPage(p.activePage + 4)">\n                <a class="page-link" style="cursor: pointer">{{p.activePage+4}}</a>\n            </li>\n            <li class="page-item" [class.disabled]="p.activePage >= p.lastPage" (click)="p.setPage(p.lastPage)">\n                <a class="page-link" style="cursor: pointer">&raquo;</a>\n            </li>\n        </ul>\n        <ul class="pagination pull-right float-sm-right" *ngIf="p.dataLength > minRowsOnPage">\n            <li class="page-item" *ngFor="let rows of rowsOnPageSet" [class.active]="p.rowsOnPage===rows" (click)="p.setRowsOnPage(rows)">\n                <a class="page-link" style="cursor: pointer">{{rows}}</a>\n            </li>\n        </ul>\n    </mfPaginator>\n    '}]}],s.propDecorators={rowsOnPageSet:[{type:e.Input,args:["rowsOnPageSet"]}],mfTable:[{type:e.Input,args:["mfTable"]}]};Object.create;function n(t){var e="function"==typeof Symbol&&Symbol.iterator,a=e&&t[e],r=0;if(a)return a.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var a="function"==typeof Symbol&&t[Symbol.iterator];if(!a)return t;var r,s,n=a.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)i.push(r.value)}catch(t){s={error:t}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return i}Object.create;var o=function(){function t(t){this.differs=t,this.inputData=[],this.sortBy="",this.sortOrder="asc",this.sortByChange=new e.EventEmitter,this.sortOrderChange=new e.EventEmitter,this.rowsOnPage=1e3,this.activePage=1,this.mustRecalculateData=!1,this.onSortChange=new a.ReplaySubject(1),this.onPageChange=new e.EventEmitter,this.diff=t.find([]).create(null)}return t.prototype.getSort=function(){return{sortBy:this.sortBy,sortOrder:this.sortOrder}},t.prototype.setSort=function(t,e){this.sortBy===t&&this.sortOrder===e||(this.sortBy=t,this.sortOrder=["asc","desc"].indexOf(e)>=0?e:"asc",this.mustRecalculateData=!0,this.onSortChange.next({sortBy:this.sortBy,sortOrder:this.sortOrder}),this.sortByChange.emit(this.sortBy),this.sortOrderChange.emit(this.sortOrder))},t.prototype.getPage=function(){return{activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData.length}},t.prototype.setPage=function(t,e){this.rowsOnPage===e&&this.activePage===t||(this.activePage=this.activePage!==t?t:this.calculateNewActivePage(this.rowsOnPage,e),this.rowsOnPage=e,this.mustRecalculateData=!0,this.onPageChange.emit({activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData?this.inputData.length:0}))},t.prototype.calculateNewActivePage=function(t,e){var a=(this.activePage-1)*t+1;return Math.ceil(a/e)},t.prototype.recalculatePage=function(){var t=Math.ceil(this.inputData.length/this.rowsOnPage);this.activePage=t<this.activePage?t:this.activePage,this.activePage=this.activePage||1,this.onPageChange.emit({activePage:this.activePage,rowsOnPage:this.rowsOnPage,dataLength:this.inputData.length})},t.prototype.ngOnChanges=function(t){t.rowsOnPage&&(this.rowsOnPage=t.rowsOnPage.previousValue,this.setPage(this.activePage,t.rowsOnPage.currentValue),this.mustRecalculateData=!0),(t.sortBy||t.sortOrder)&&(["asc","desc"].indexOf(this.sortOrder)<0&&(console.warn("ng-datatable: value for input mfSortOrder must be one of ['asc', 'desc'], but is:",this.sortOrder),this.sortOrder="asc"),this.sortBy&&this.onSortChange.next({sortBy:this.sortBy,sortOrder:this.sortOrder}),this.mustRecalculateData=!0),t.inputData&&(this.inputData=t.inputData.currentValue||[],this.recalculatePage(),this.mustRecalculateData=!0)},t.prototype.ngDoCheck=function(){this.diff.diff(this.inputData)&&(this.recalculatePage(),this.mustRecalculateData=!0),this.mustRecalculateData&&(this.fillData(),this.mustRecalculateData=!1)},t.prototype.fillData=function(){var t=(this.activePage-1)*this.rowsOnPage;this.data=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}(this.inputData).sort(this.sorter(this.sortBy,this.sortOrder)).slice(t,t+this.rowsOnPage)},t.prototype.caseInsensitiveIteratee=function(t){return function(e){var a,r,s=e;if("string"==typeof t||t instanceof String)try{for(var i=n(t.split(".")),o=i.next();!o.done;o=i.next()){var c=o.value;s&&(s=s[c])}}catch(t){a={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}else s=t(s);return s&&"string"==typeof s||s instanceof String?s.toLowerCase():s}},t.prototype.compare=function(t,e){return t===e?0:null==t||t>e?1:-1},t.prototype.sorter=function(t,e){var a=this,r="desc"===e?-1:1;if(Array.isArray(t)){var s=t.map((function(t){return a.caseInsensitiveIteratee(t)}));return function(t,e){var i,o;try{for(var c=n(s),g=c.next();!g.done;g=c.next()){var l=g.value,p=a.compare(l(t),l(e))*r;if(0!==p)return p}}catch(t){i={error:t}}finally{try{g&&!g.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return 0}}var i=this.caseInsensitiveIteratee(t);return function(t,e){return a.compare(i(t),i(e))*r}},t}();o.decorators=[{type:e.Directive,args:[{selector:"table[mfData]",exportAs:"mfDataTable"}]}],o.ctorParameters=function(){return[{type:e.IterableDiffers}]},o.propDecorators={inputData:[{type:e.Input,args:["mfData"]}],sortBy:[{type:e.Input,args:["mfSortBy"]}],sortOrder:[{type:e.Input,args:["mfSortOrder"]}],sortByChange:[{type:e.Output,args:["mfSortByChange"]}],sortOrderChange:[{type:e.Output,args:["mfSortOrderChange"]}],rowsOnPage:[{type:e.Input,args:["mfRowsOnPage"]}],activePage:[{type:e.Input,args:["mfActivePage"]}]};var c=function(){function t(t){var e=this;this.injectMfTable=t,this.dataLength=0,this.onPageChangeSubscriber=function(t){e.activePage=t.activePage,e.rowsOnPage=t.rowsOnPage,e.dataLength=t.dataLength,e.lastPage=Math.ceil(e.dataLength/e.rowsOnPage)}}return t.prototype.ngOnChanges=function(t){this.mfTable=this.inputMfTable||this.injectMfTable,this.onPageChangeSubscriber(this.mfTable.getPage()),this.mfTable.onPageChange.subscribe(this.onPageChangeSubscriber)},t.prototype.setPage=function(t){this.mfTable.setPage(t,this.rowsOnPage)},t.prototype.setRowsOnPage=function(t){this.mfTable.setPage(this.activePage,t)},t}();c.decorators=[{type:e.Component,args:[{selector:"mfPaginator",template:"<ng-content></ng-content>"}]}],c.ctorParameters=function(){return[{type:o,decorators:[{type:e.Optional}]}]},c.propDecorators={inputMfTable:[{type:e.Input,args:["mfTable"]}]};var g=function(){function t(t){this.mfTable=t,this.isSortedByMeAsc=!1,this.isSortedByMeDesc=!1}return t.prototype.ngOnInit=function(){var t=this;this.mfTable.onSortChange.subscribe((function(e){t.isSortedByMeAsc=e.sortBy==t.sortBy&&"asc"==e.sortOrder,t.isSortedByMeDesc=e.sortBy==t.sortBy&&"desc"==e.sortOrder}))},t.prototype.sort=function(){this.isSortedByMeAsc?this.mfTable.setSort(this.sortBy,"desc"):this.mfTable.setSort(this.sortBy,"asc")},t}();g.decorators=[{type:e.Component,args:[{selector:"mfDefaultSorter",template:'\n        <a style="cursor: pointer" (click)="sort()" class="text-nowrap">\n            <ng-content></ng-content>\n            <span *ngIf="isSortedByMeAsc" class="glyphicon glyphicon-triangle-top" aria-hidden="true"></span>\n            <span *ngIf="isSortedByMeDesc" class="glyphicon glyphicon-triangle-bottom" aria-hidden="true"></span>\n        </a>'}]}],g.ctorParameters=function(){return[{type:o}]},g.propDecorators={sortBy:[{type:e.Input,args:["by"]}]};var l=function(){};l.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule],declarations:[o,g,c,s],exports:[o,g,c,s]}]}],t.BootstrapPaginator=s,t.DataTable=o,t.DataTableModule=l,t.DefaultSorter=g,t.Paginator=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=pascalhonegger-ng-datatable.umd.min.js.map